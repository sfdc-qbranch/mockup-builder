<!-- views/notifications.ejs -->
<%- include('partials/header') %>
<title>mockup builder - notification</title>

<body>

    <%- include('partials/navbarHorizontal') %>
    <div class="pageLayoutContainer slds-grid">
        <div class="slds-col slds-size_3-of-5">
            <div class="page-content">
                <div class="slds-align_absolute-center">
                    <%- include('displays/notificationDisplay') %>
                </div>
            </div>
        </div>
        <div class="slds-col slds-size_2-of-5 page-rightbar">
            <div class="setting-container">
                <%- include('settings/notificationSettings') %>
                <div class="downloadButton-container slds-p-top_small">
                    <%- include('partials/downloadButton') %>
                </div>
            </div>
        </div>
    </div>
    <%- include('partials/footer') %>


</body>
<style>
    #n_backGroundImage {
        width: inherit;
        height: inherit;
        position: absolute;
    }

    .n_TimeAndDateDisplay {
        text-align: center;
        position: absolute;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        font-weight: 200;
        color: white;
        top: 12.74%;
    }

    div.notificatondisplay {
        position: absolute;
        top: 30.43%;
        width: 95.47%;
        padding: 10px 10px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 12px;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        white-space: nowrap;

    }

    div.notificatondisplay .row {
        margin-left: 0px;

    }

    span.notificationBar {
        color: rgba(0, 0, 0, 0.9);
        vertical-align: middle;
    }



    div.lock_screen-time {
        font-size: 60px;
        line-height: 1.1;
    }

    div.lock_screen-date {
        font-size: 16px;
    }

    /**NOTIFICATION APP LOGO**/

    div#notificationAppLogo {
        max-width: 25px;
        max-height: 25px;
        display: block;
        position: relative;
        overflow: hidden;
        padding: 0px;
    }

    div#notificationAppLogo img {
        position: absolute;
        top: 0;
        left: 0;
        width: auto;
        height: auto;
        border-radius: 5px;
    }


    /**NOTIFICATION HEADBAR DISPLAY**/

    div#notificationHeadlineDisplay {
        line-height: 25px;
        font-size: 13px;
        font-weight: 400;
    }

    div#notificationAppName {
        /* Reduce the default left/right padding on div 15px->5px */
        padding: 0px 10px;
    }

    /**NOTIFICATION MESSAGE DISPLAY**/

    div#notificationMessage {
        /* Add extra padding above notification message */
        padding-top: 10px;
        font-size: 12px;
        font-weight: 400;
    }
</style>


<script>
    $(document).ready(function () {

        //DISPLAY TODAYS DATE - USING HELPER FUNCTION
        $("#datedisplay").html(moment().format('dddd, DD MMMM'));


        //TIME PICKER
        $('input.timepicker').timepicker({
            timeFormat: 'H:mm',
            interval: 30,
            minTime: '0:00am',
            maxTime: '23:59pm',
            defaultTime: '9:30am',
            startTime: '7:00',
            dynamic: false,
            dropdown: true,
            scrollbar: true,
            change: function () {
                $('#timedisplay').html(this.val());
            },
        });

        //DATE PICKER
        $('input.datepicker').datepicker({
            format: "DD, dd MM",
            maxViewMode: 2,
            autoclose: true
        });

        $('input.datepicker').on('change', function () {
            $("#datedisplay").html($('input.datepicker').val());
        });

        //SET APP NAME
        $("#n_setAppName").on('keyup', function () {
            $("#notificationTitleSpan").html($("#n_setAppName").val());
        });

        //SET APP LOGO IMAGE
        $("#n_setAppLogoImage").change(function () {
            readURL(this, $('#appLogo'));
        });

        //SET APP LOGO IMAGE
        $("#n_setScreenBackgroundImage").change(function () {
            readURL(this, $('#n_backGroundImage'));
        });


        //SET NOTIFICATION TIME AGO
        $("#n_setTimeAgo").change(function () {
            $('#notificationTimeSpan').html($("#n_setTimeAgo").val());
        });

        //SET NOTIFICATION MESSAGE
        $("#n_setNotification").on('keyup', function () {
            $("#notificationMessageSpan").html($("#n_setNotification").val().replace(/\r?\n/g,
                '<br/>'));
        });

        download_mockup_active();

    });
</script>